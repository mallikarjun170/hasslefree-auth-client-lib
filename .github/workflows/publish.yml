name: Publish to AWS CodeArtifact

on:
  workflow_dispatch:
  release:
    types: [created]

permissions:
  id-token: write
  contents: read

jobs:
  publish:
    name: Publish auth-client-lib to CodeArtifact
    uses: mallikarjun170/hasslefree-cicd/.github/workflows/publish-codeartifact.yml@main
    secrets: inherit
    with:
      domain: hasslefree
      repository: maven
      aws_region: us-east-1

